{"ast":null,"code":"var CapabilityDetector = function () {\n  this.tests = {};\n  this.cache = {};\n};\n\nCapabilityDetector.prototype = {\n  constructor: CapabilityDetector,\n  define: function (name, test) {\n    if (typeof name != \"string\" || !(test instanceof Function)) throw new Error(\"Invalid capability definition.\");\n    if (this.tests[name]) throw new Error('Duplicated capability definition by \"' + name + '\".');\n    this.tests[name] = test;\n  },\n  check: function (name) {\n    if (!this.test(name)) throw new Error('The current environment does not support \"' + name + '\", therefore we cannot continue.');\n  },\n  test: function (name) {\n    if (this.cache[name] !== undefined) return this.cache[name];\n    if (!this.tests[name]) throw new Error('Unknown capability with name \"' + name + '\".');\n    var test = this.tests[name];\n    this.cache[name] = !!test();\n    return this.cache[name];\n  }\n};\nmodule.exports = CapabilityDetector;","map":{"version":3,"names":["CapabilityDetector","tests","cache","prototype","constructor","define","name","test","Function","Error","check","undefined","module","exports"],"sources":["C:/Projects/node_modules/capability/lib/CapabilityDetector.js"],"sourcesContent":["var CapabilityDetector = function () {\r\n    this.tests = {};\r\n    this.cache = {};\r\n};\r\nCapabilityDetector.prototype = {\r\n    constructor: CapabilityDetector,\r\n    define: function (name, test) {\r\n        if (typeof (name) != \"string\" || !(test instanceof Function))\r\n            throw new Error(\"Invalid capability definition.\");\r\n        if (this.tests[name])\r\n            throw new Error('Duplicated capability definition by \"' + name + '\".');\r\n        this.tests[name] = test;\r\n    },\r\n    check: function (name) {\r\n        if (!this.test(name))\r\n            throw new Error('The current environment does not support \"' + name + '\", therefore we cannot continue.');\r\n    },\r\n    test: function (name) {\r\n        if (this.cache[name] !== undefined)\r\n            return this.cache[name];\r\n        if (!this.tests[name])\r\n            throw new Error('Unknown capability with name \"' + name + '\".');\r\n        var test = this.tests[name];\r\n        this.cache[name] = !!test();\r\n        return this.cache[name];\r\n    }\r\n};\r\n\r\nmodule.exports = CapabilityDetector;"],"mappings":"AAAA,IAAIA,kBAAkB,GAAG,YAAY;EACjC,KAAKC,KAAL,GAAa,EAAb;EACA,KAAKC,KAAL,GAAa,EAAb;AACH,CAHD;;AAIAF,kBAAkB,CAACG,SAAnB,GAA+B;EAC3BC,WAAW,EAAEJ,kBADc;EAE3BK,MAAM,EAAE,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;IAC1B,IAAI,OAAQD,IAAR,IAAiB,QAAjB,IAA6B,EAAEC,IAAI,YAAYC,QAAlB,CAAjC,EACI,MAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;IACJ,IAAI,KAAKR,KAAL,CAAWK,IAAX,CAAJ,EACI,MAAM,IAAIG,KAAJ,CAAU,0CAA0CH,IAA1C,GAAiD,IAA3D,CAAN;IACJ,KAAKL,KAAL,CAAWK,IAAX,IAAmBC,IAAnB;EACH,CAR0B;EAS3BG,KAAK,EAAE,UAAUJ,IAAV,EAAgB;IACnB,IAAI,CAAC,KAAKC,IAAL,CAAUD,IAAV,CAAL,EACI,MAAM,IAAIG,KAAJ,CAAU,+CAA+CH,IAA/C,GAAsD,kCAAhE,CAAN;EACP,CAZ0B;EAa3BC,IAAI,EAAE,UAAUD,IAAV,EAAgB;IAClB,IAAI,KAAKJ,KAAL,CAAWI,IAAX,MAAqBK,SAAzB,EACI,OAAO,KAAKT,KAAL,CAAWI,IAAX,CAAP;IACJ,IAAI,CAAC,KAAKL,KAAL,CAAWK,IAAX,CAAL,EACI,MAAM,IAAIG,KAAJ,CAAU,mCAAmCH,IAAnC,GAA0C,IAApD,CAAN;IACJ,IAAIC,IAAI,GAAG,KAAKN,KAAL,CAAWK,IAAX,CAAX;IACA,KAAKJ,KAAL,CAAWI,IAAX,IAAmB,CAAC,CAACC,IAAI,EAAzB;IACA,OAAO,KAAKL,KAAL,CAAWI,IAAX,CAAP;EACH;AArB0B,CAA/B;AAwBAM,MAAM,CAACC,OAAP,GAAiBb,kBAAjB"},"metadata":{},"sourceType":"script"}